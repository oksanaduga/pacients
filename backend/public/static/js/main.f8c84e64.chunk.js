(this["webpackJsonpmy-new-app"]=this["webpackJsonpmy-new-app"]||[]).push([[0],{19:function(e,t,s){"use strict";s.r(t);var a=s(5),r=s(8),n=s(6),c=s(9),i=s(10),l=s(1),d=s(12),h=s(11),j=s(0),b=s(2),o=s.n(b),u=s(3),m=s.n(u);s(18),s(4);var x=function(e){var t=e.value;return Object(j.jsxs)("form",{onSubmit:e.submit,children:[Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{class:"form-label",for:"name",children:"\u0424\u0418\u041e"}),Object(j.jsx)("input",{class:"form-control",type:"text",id:"name",name:"name",value:t.name,onChange:e.change,placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447"})]}),Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{class:"form-label",for:"sex",children:"\u041f\u043e\u043b"}),Object(j.jsxs)("select",{class:"form-control",id:"sex",name:"sex",value:t.sex,onChange:e.change,children:[Object(j.jsx)("option",{children:"\u043c\u0443\u0436\u0441\u043a\u043e\u0439"}),Object(j.jsx)("option",{children:"\u0436\u0435\u043d\u0441\u043a\u0438\u0439"})]})]}),Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{class:"form-label",for:"date",children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),Object(j.jsx)("input",{class:"form-control",type:"date",id:"date",name:"date",value:t.date,onChange:e.change})]}),Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{class:"form-label",for:"address",children:"\u0410\u0434\u0440\u0435\u0441"}),Object(j.jsx)("input",{class:"form-control",type:"text",id:"address",name:"address",value:t.address,onChange:e.change})]}),Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{class:"form-label",for:"medicine",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u0438\u0441\u0430 \u041e\u041c\u0421"}),Object(j.jsx)("input",{class:"form-control",type:"text",id:"medicine",name:"medicine",value:t.medicine,onChange:e.change,placeholder:"00000000000"})]}),Object(j.jsx)("input",{class:"btn btn-light",type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})};var O=function(e){var t=e.rows;return Object(j.jsxs)("table",{class:"table table-success table-stripedt",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{class:"table-light",children:[Object(j.jsx)("th",{class:"table-light",children:"\u2116"}),Object(j.jsx)("th",{class:"table-light",children:"\u0424\u0418\u041e"}),Object(j.jsx)("th",{class:"table-light",children:"\u041f\u043e\u043b"}),Object(j.jsx)("th",{class:"table-light",children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),Object(j.jsx)("th",{class:"table-light",children:"\u0410\u0434\u0440\u0435\u0441"}),Object(j.jsx)("th",{class:"table-light",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u0438\u0441\u0430 \u041e\u041c\u0421"}),Object(j.jsx)("th",{class:"table-light",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})]})}),Object(j.jsx)("tbody",{children:t})]})};var v=function(e){var t=e.value,s=e.change;return Object(j.jsx)("form",{children:Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{class:"form-label",for:"search",children:"\u041f\u043e\u0438\u0441\u043a:"}),Object(j.jsx)("input",{class:"form-control",type:"text",id:"search",name:"search",value:t,onChange:s})]})})},g=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={registeredUsers:[],searchData:"",registeredUsersLastIndex:0,userDataForm:{name:"",sex:"\u043c\u0443\u0436\u0441\u043a\u043e\u0439",date:"",address:"",medicine:"",id:""}},a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleChangeUserDataForm=a.handleChangeUserDataForm.bind(Object(l.a)(a)),a.handleEditUser=a.handleEditUser.bind(Object(l.a)(a)),a.handleDeleteUser=a.handleDeleteUser.bind(Object(l.a)(a)),a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("newState"));this.setState(e)}},{key:"handleSubmit",value:function(e){var t=this.state,s=t.registeredUsers,a=t.registeredUsersLastIndex,c=t.userDataForm,i={};if(""==c.id){var l=a+1;c.id=l;var d=Object(n.a)({},c);i.registeredUsers=[].concat(Object(r.a)(s),[d]),i.registeredUsersLastIndex=l}else{var h=s.map((function(e,t){if(e.id==c.id){var s=e.id;return c.id=s,e[t]=c,e[t]}return e}));i.registeredUsers=h}i.userDataForm={name:"",sex:"\u043c\u0443\u0436\u0441\u043a\u043e\u0439",date:"",address:"",medicine:"",id:""};var j=JSON.stringify(i);localStorage.setItem("newState",j)}},{key:"handleChange",value:function(e){this.setState({searchData:e.target.value})}},{key:"handleChangeUserDataForm",value:function(e){var t=this.state.userDataForm,s=e.target,r=s.name,c=s.value,i={userDataForm:Object(n.a)(Object(n.a)({},t),{},Object(a.a)({},r,c))};this.setState(i)}},{key:"handleEditUser",value:function(e){var t=e.target.dataset.userId,s=this.state,a=s.registeredUsers,r=(s.userDataForm,a.filter((function(e){return e.id==t}))[0]),n=r.name,c=r.sex,i=r.date,l=r.address,d=r.medicine,h=r.id;this.setState({userDataForm:{name:n,sex:c,date:i,address:l,medicine:d,id:h}})}},{key:"handleDeleteUser",value:function(e){var t=e.target.dataset.userId,s=this.state,a=s.registeredUsers,n=(s.userDataForm,a.filter((function(e){return e.id!=t})));this.setState({registeredUsers:Object(r.a)(n)})}},{key:"render",value:function(){var e=this,t=this.state,s=t.searchData,a=t.registeredUsers,r=(t.userDataForm,a.filter((function(e){var t=e.name,a=e.sex,r=e.date,n=e.address,c=e.medicine;return t.includes(s)||a.includes(s)||r.includes(s)||n.includes(s)||c.includes(s)})).map((function(t,s){var a=t.name,r=t.sex,n=t.date,c=t.address,i=t.medicine,l=t.id;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:s+1}),Object(j.jsx)("td",{children:a}),Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:i}),Object(j.jsxs)("td",{children:[Object(j.jsx)("a",{href:"#",name:"edit","data-user-id":l,onClick:e.handleEditUser,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \xa0"}),Object(j.jsx)("a",{href:"#",name:"delete","data-user-id":l,onClick:e.handleDeleteUser,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},l)})));return Object(j.jsx)("div",{class:"container-fluid",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsxs)("div",{class:"col-3",children:[Object(j.jsx)("h2",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)(x,{value:this.state.userDataForm,submit:this.handleSubmit,change:this.handleChangeUserDataForm})]}),Object(j.jsxs)("div",{class:"col-9",children:[Object(j.jsx)("h2",{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(j.jsx)(v,{value:this.state.searchData,change:this.handleChange}),Object(j.jsx)(O,{rows:r})]})]})})}}]),s}(o.a.Component);m.a.render(Object(j.jsx)(g,{}),document.getElementById("root"))},4:function(e,t,s){}},[[19,1,2]]]);
//# sourceMappingURL=main.f8c84e64.chunk.js.map